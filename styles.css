/*
 * Main stylesheet for the Electrogroup ITS website.
 *
 * Defines the overall look and feel of the site including typography,
 * layout, color scheme and animations. The design focuses on clean
 * presentation with clear hierarchy and smooth transitions as the user
 * scrolls through the page. Fade‑in and parallax‑like effects are
 * implemented purely with CSS and controlled via JavaScript.
 */

/* CSS variables for easy theming */
:root {
    /* Core colour palette for the dark, modern theme */
    --primary: #001d3a; /* dark base used for headers and panels */
    --accent: #39aaff; /* electric blue accent for highlights */
    --gold: #ffd700; /* optional golden accent */
    --bg: #001223; /* overall page background (darker) */
    --light-bg: #011a33; /* slightly lighter background for alternating sections */
    --section-bg: rgba(0, 18, 35, 0.88); /* translucent overlay to let static background show through */
    --section-alt-bg: rgba(1, 26, 51, 0.82);
    --card-bg: #062142; /* background for cards and panels */
    --text-dark: #eaf4ff; /* text colour on dark backgrounds */
    --text-light: #ffffff;
    --secondary: #7cc4ff; /* secondary accent colour (rare blue tint) */
    --preloader-bg: #000a1a; /* background for the preloader overlay */

    /* Subtle rare blue shades */
    --blue-50: #e8f3ff;
    --blue-100: #cfe8ff;
    --blue-200: #b6dcff;
    --blue-300: #9ad0ff;
    --blue-400: #7cc4ff;
    --blue-500: #54b4ff;
    /* Additional palette: deeper blues + blacks for gradients and glows */
    --blue-600: #2a9aff;
    --blue-700: #0f7fe6;
    --blue-800: #0c5fb4;
    --blue-900: #0a4a8a;
    --blue-neon: #33d1ff;
    --blue-ice:  #a6ddff;
    --black-900: #000000;
    --black-800: #090f1a;
    --black-700: #0c1424;
    --black-600: #0f1a2e;
    --black-500: #13223c;
}

/* Light theme overrides */
[data-theme='light'] {
    --bg: #f7fbff;
    --light-bg: #ffffff;
    --section-bg: rgba(247, 251, 255, 0.9);
    --section-alt-bg: rgba(255, 255, 255, 0.92);
    --card-bg: #f0f6ff;
    --text-dark: #0a1a2e;
    --text-light: #0a1a2e;
    --primary: #0f2a4d;
    --accent: #005fcc;
    --secondary: #2b83ff;
    --preloader-bg: #eaf4ff;
}

/* Scroll reveal: elements with this class will fade and slide in when scrolled into view */
.show-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}
.show-on-scroll.show {
    opacity: 1;
    transform: translateY(0);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: var(--text-dark);
    background-color: var(--bg);
    line-height: 1.6;
    position: relative;
    min-height: 100%;
    overflow-x: hidden;
}

body::before,
body::after {
    content: "";
    position: fixed;
    inset: 0;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    z-index: -4;
    pointer-events: none;
    will-change: opacity, transform;
}

body::before {
    background-image: url('assets/img/pozadina.png');
    transform: scale(1.02);
}

body::after {
    background-image: url('assets/img/pozadina2.png');
    opacity: 0;
    animation: pozadinaPulse 120s ease-in-out infinite;
}

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* General section padding */
.section {
    padding: 4rem 0;
}

/* Alternate backgrounds for sections */
.about, .focus, .philosophy, .gallery, .contact {
    background: var(--section-bg);
    color: var(--text-dark);
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
}
.team, .faq {
    background: var(--section-alt-bg);
    color: var(--text-dark);
    -webkit-backdrop-filter: blur(6px);
}

/* Headings styling */
.section h2 {
    font-size: 2.4rem;
    margin-bottom: 2rem;
    text-align: center;
    color: var(--accent);
}
.section h3 {
    color: var(--accent);
    margin-bottom: 0.5rem;
}

/* Focus columns */
.focus-columns {
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    margin-top: 2rem;
}
.focus-col {
    flex: 1 1 45%;
    background: var(--card-bg);
    padding: 1.5rem;
    border-radius: 8px;
    color: var(--text-light);
    box-shadow: 0 2px 6px rgba(0,0,0,0.4);
}
.focus-col h3 {
    margin-bottom: 1rem;
    font-size: 1.4rem;
}
.focus-col ul {
    list-style: none;
    padding-left: 0;
}
.focus-col li {
    margin-bottom: 0.8rem;
    display: flex;
    align-items: flex-start;
    line-height: 1.4;
}
.focus-col li .icon {
    font-size: 1.3rem;
    margin-right: 0.6rem;
    color: var(--accent);
    flex-shrink: 0;
}

/* Transformer solutions section */
.trafo {
    background: var(--light-bg);
    color: var(--text-dark);
}
.trafo-intro {
    max-width: 900px;
    margin: 0 auto 2.5rem;
    text-align: center;
    font-size: 1.05rem;
    line-height: 1.7;
}
.trafo-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 1.8rem;
}
.trafo-card {
    background: var(--card-bg);
    color: var(--text-light);
    border-radius: 12px;
    padding: 1.8rem 1.5rem;
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.25);
    position: relative;
    overflow: hidden;
    opacity: 0;
    transform: translateY(24px);
    pointer-events: none;
    transition: transform 0.35s ease, box-shadow 0.35s ease, opacity 0.35s ease;
}
.trafo-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at top right, rgba(57, 170, 255, 0.28), transparent 55%);
    opacity: 0;
    transition: opacity 0.35s ease;
}
.trafo-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 16px 28px rgba(0, 0, 0, 0.35);
}
.trafo-card:hover::before {
    opacity: 1;
}
.trafo-card.revealed {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}
.trafo-visual {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 1.3rem;
}
.trafo-visual img {
    width: 80%;
    max-width: 180px;
    filter: drop-shadow(0 12px 18px rgba(41, 123, 214, 0.45));
    transition: transform 0.35s ease;
}
.trafo-card:hover .trafo-visual img {
    transform: translateY(-6px) scale(1.02);
}
.trafo-body h3 {
    color: var(--accent);
    margin-bottom: 0.8rem;
}
.trafo-body p {
    font-size: 0.98rem;
    line-height: 1.6;
}
.trafo-card ul {
    list-style: none;
    margin: 1.1rem 0 0;
    padding: 0;
}
.trafo-card ul li {
    position: relative;
    padding-left: 1.2rem;
    margin-bottom: 0.6rem;
    font-size: 0.95rem;
}
.trafo-card ul li::before {
    content: '>';
    position: absolute;
    left: 0;
    top: 0;
    color: var(--accent);
    font-weight: 700;
}

/* Team section */
.team p {
    max-width: 900px;
    margin: 0 auto;
    text-align: center;
    margin-bottom: 2rem;
    line-height: 1.6;
}

.team-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1.5rem;
    margin-top: 2.5rem;
}

@media (min-width: 640px) {
    .team-gallery {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

@media (min-width: 1100px) {
    .team-gallery {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }
}

.team-photo {
    background: rgba(255, 255, 255, 0.92);
    border-radius: 14px;
    overflow: hidden;
    box-shadow: 0 12px 26px rgba(0, 32, 96, 0.12);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    display: flex;
    flex-direction: column;
    opacity: 0;
    transform: translateY(28px);
}

.team-photo.show {
    opacity: 1;
    transform: translateY(0);
}

.team-photo img {
    width: 100%;
    height: 220px;
    object-fit: cover;
    display: block;
}

.team-photo figcaption {
    padding: 0.9rem 1rem 1.2rem;
    font-size: 0.95rem;
    color: #12335b;
    line-height: 1.4;
}

.team-photo:hover {
    transform: translateY(-6px);
    box-shadow: 0 18px 28px rgba(0, 32, 96, 0.18);
}

/* Philosophy cards */
.philosophy-cards {
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    justify-content: space-between;
    margin-top: 2rem;
}
.philosophy-card {
    flex: 1 1 30%;
    background: var(--card-bg);
    padding: 1.5rem;
    border-radius: 8px;
    text-align: center;
    color: var(--text-light);
    box-shadow: 0 2px 6px rgba(0,0,0,0.4);
}
.philosophy-icon {
    font-size: 2.2rem;
    margin-bottom: 0.8rem;
    color: var(--accent);
}
.philosophy-card h3 {
    font-size: 1.4rem;
    margin-bottom: 0.5rem;
}

/* FAQ section */
.faq-list {
    max-width: 900px;
    margin: 0 auto;
}
.faq-item {
    margin-bottom: 1.2rem;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    padding-bottom: 0.8rem;
}
.faq-question {
    cursor: pointer;
    position: relative;
    padding-right: 1.5rem;
    font-weight: 600;
    color: var(--accent);
}
.faq-question::after {
    content: '+';
    position: absolute;
    right: 0;
    top: 0;
    font-size: 1.3rem;
    transition: transform 0.2s;
}
.faq-item.open .faq-question::after {
    content: '-';
}
.faq-answer {
    display: none;
    margin-top: 0.5rem;
    line-height: 1.5;
}
.faq-item.open .faq-answer {
    display: block;
}

/* Contact section */
.contact-form {
    max-width: 600px;
    margin: 0 auto;
    margin-bottom: 2rem;
}
.contact-form .form-group {
    margin-bottom: 1rem;
}
.contact-form input,
.contact-form textarea {
    width: 100%;
    padding: 0.75rem;
    border-radius: 4px;
    border: none;
    font-size: 1rem;
    background: var(--card-bg);
    color: var(--text-light);
}
.contact-form input::placeholder,
.contact-form textarea::placeholder {
    color: rgba(255,255,255,0.6);
}
.contact-form button {
    background: var(--accent);
    color: var(--text-light);
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 4px;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.3s;
}
.contact-form button:hover {
    background: var(--secondary);
}
.contact-info {
    max-width: 600px;
    margin: 0 auto;
    text-align: center;
    line-height: 1.5;
    color: var(--text-dark);
}

/* Chat widget */
#chat-widget {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
}
#chat-toggle {
    background: var(--accent);
    color: var(--text-light);
    border: none;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    font-size: 1.8rem;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.4);
    display: flex;
    align-items: center;
    justify-content: center;
}
#chatbox {
    display: none;
    position: fixed;
    bottom: 90px;
    right: 20px;
    width: 320px;
    background: var(--card-bg);
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.6);
    overflow: hidden;
    color: var(--text-light);
}
#chatbox.open {
    display: block;
}
.chatbox-header {
    background: var(--primary);
    padding: 0.8rem 1rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.chatbox-header h3 {
    font-size: 1rem;
    color: var(--accent);
    margin: 0;
}
#chat-close {
    background: none;
    border: none;
    color: var(--accent);
    font-size: 1.4rem;
    cursor: pointer;
}
.chatbox-content {
    padding: 1rem;
}
.chatbox-content p {
    margin-bottom: 1rem;
}
.chat-options {
    list-style: none;
    padding: 0;
    margin: 0;
}
.chat-options li {
    margin-bottom: 0.6rem;
    padding: 0.6rem 0.8rem;
    background: var(--primary);
    border-radius: 5px;
    cursor: pointer;
    color: var(--text-light);
    transition: background 0.2s;
}
.chat-options li:hover {
    background: var(--accent);
}
.chat-response {
    margin-top: 1rem;
}
.chat-response.hidden {
    display: none;
}
.chat-response .response-text {
    margin-bottom: 0.8rem;
    line-height: 1.5;
}
.chat-response .contact-btn {
    display: inline-block;
    background: var(--accent);
    color: var(--text-light);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.3s;
}
.chat-response .contact-btn:hover {
    background: var(--secondary);
}

/* Preloader styling */
#preloader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--preloader-bg);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    overflow: hidden;
    /* subtle animated vignette */
    background-image: radial-gradient(1200px 600px at 50% 50%, rgba(60,130,255,0.08), transparent 60%),
                      radial-gradient(800px 400px at 20% 30%, rgba(60,130,255,0.06), transparent 60%),
                      radial-gradient(800px 400px at 80% 70%, rgba(60,130,255,0.06), transparent 60%);
    /* Fade out the preloader after a delay */
    animation: preFadeOut 2s forwards 3.6s;
}

.preloader-video {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.8;
    filter: blur(22px) saturate(1.6) brightness(1.2);
    transform: scale(1.08);
    z-index: -2;
    pointer-events: none;
}

#preloader::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at center, rgba(8, 20, 46, 0.35), rgba(0, 6, 16, 0.8));
    mix-blend-mode: soft-light;
    z-index: -1;
}

#preloader .preloader-logo img {
    width: 120px;
    height: auto;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

@keyframes preFadeOut {
    to { opacity: 0; visibility: hidden; }
}

/* Cinematic lightning around logo using pseudo-elements */
#preloader .preloader-content {
    position: relative;
    z-index: 1;
    padding: 3rem 3.4rem 2.8rem;
    border-radius: 28px;
    background: linear-gradient(145deg, rgba(4, 18, 38, 0.88), rgba(6, 30, 56, 0.68));
    box-shadow: 0 24px 70px rgba(0, 0, 0, 0.55), 0 0 120px rgba(76, 164, 255, 0.35);
    backdrop-filter: blur(10px);
    overflow: hidden;
}

.preloader-lightning {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
    z-index: 0;
    mix-blend-mode: screen;
}

.preloader-lightning::before,
.preloader-lightning::after {
    content: '';
    position: absolute;
    inset: -18%;
    pointer-events: none;
    opacity: 0;
}

.preloader-lightning::before {
    background: radial-gradient(circle at 50% 45%, rgba(206, 238, 255, 0.42) 0%, rgba(80, 160, 255, 0.22) 28%, rgba(0, 8, 20, 0) 70%);
    filter: blur(30px);
    animation: skyFlash 5.6s infinite;
}

.preloader-lightning::after {
    background: conic-gradient(from 0deg at 50% 50%, rgba(44, 136, 255, 0.0) 0deg, rgba(44, 136, 255, 0.45) 120deg, rgba(160, 220, 255, 0.0) 240deg, rgba(44, 136, 255, 0.55) 360deg);
    animation: skyFlashSweep 12s linear infinite;
    opacity: 0.32;
    filter: blur(40px);
}

.preloader-lightning canvas {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    display: block;
}

#preloader .preloader-content::before,
#preloader .preloader-content::after {
    content: '';
    position: absolute;
    inset: -36px;
    border-radius: 36px;
    pointer-events: none;
    z-index: -1;
}

#preloader .preloader-content::before {
    border: 3px solid rgba(120, 204, 255, 0.45);
    box-shadow:
        0 0 38px rgba(120, 204, 255, 0.55),
        0 0 110px rgba(120, 204, 255, 0.32),
        inset 0 0 22px rgba(18, 52, 108, 0.55);
    animation: preloaderFramePulse 4.5s ease-in-out infinite;
    opacity: 0.85;
    transform-origin: center;
}

#preloader .preloader-content::after {
    background: conic-gradient(
        from 0deg,
        rgba(24, 120, 255, 0) 0deg,
        rgba(24, 120, 255, 0.9) 90deg,
        rgba(153, 222, 255, 0.1) 180deg,
        rgba(24, 120, 255, 0.9) 270deg,
        rgba(24, 120, 255, 0) 360deg
    );
    opacity: 0.8;
    mix-blend-mode: screen;
    animation: preloaderEdgeSweep 9s linear infinite;
    transform-origin: center;
    -webkit-mask: radial-gradient(closest-side, transparent calc(100% - 18px), #000 calc(100% - 8px));
    mask: radial-gradient(closest-side, transparent calc(100% - 18px), #000 calc(100% - 8px));
}

@keyframes preloaderFramePulse {
    0%, 100% {
        border-color: rgba(120, 204, 255, 0.38);
        box-shadow:
            0 0 28px rgba(120, 204, 255, 0.42),
            0 0 80px rgba(120, 204, 255, 0.25),
            inset 0 0 16px rgba(18, 52, 108, 0.48);
        transform: scale(0.995);
    }
    50% {
        border-color: rgba(168, 228, 255, 0.92);
        box-shadow:
            0 0 55px rgba(168, 228, 255, 0.7),
            0 0 140px rgba(168, 228, 255, 0.48),
            inset 0 0 28px rgba(30, 86, 160, 0.68);
        transform: scale(1.01);
    }
}

@keyframes preloaderEdgeSweep {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes skyFlash {
    0%, 72%, 100% { opacity: 0; }
    73% { opacity: 0.65; }
    74% { opacity: 0.25; }
    75% { opacity: 0.9; }
    78% { opacity: 0; }
}

@keyframes skyFlashSweep {
    0% { transform: rotate(0deg); opacity: 0.2; }
    40% { opacity: 0.45; }
    100% { transform: rotate(360deg); opacity: 0.2; }
}


@keyframes pozadinaPulse {
    0%, 32% {
        opacity: 0;
        transform: scale(1.02);
    }
    42% {
        opacity: 0.75;
        transform: scale(1.04);
    }
    52% {
        opacity: 0.75;
        transform: scale(1.03);
    }
    62%, 100% {
        opacity: 0;
        transform: scale(1.02);
    }
}

.section {
    padding: 4rem 0;
}

/* Container centers content and constrains max width */
.container {
    width: 90%;
    max-width: 1200px;
    margin: 0 auto;
}

/* Header styling */
header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 100;
    background: linear-gradient(135deg, rgba(0, 28, 52, 0.85), rgba(0, 18, 38, 0.92));
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    transition: background 0.3s ease, border-color 0.3s ease;
}

header.scrolled {
    background: rgba(0, 18, 38, 0.97);
    border-color: rgba(255, 255, 255, 0.08);
}

header .container {
    width: 100%;
    max-width: none;
    margin: 0;
    padding: 0.9rem clamp(1.25rem, 3vw, 3.25rem);
    display: flex;
    align-items: center;
    gap: clamp(1.25rem, 4vw, 5rem);
}

header .logo {
    display: inline-flex;
    align-items: center;
    text-decoration: none;
    padding-right: clamp(0.5rem, 1.6vw, 2rem);
}

header .logo img {
    height: 56px;
    width: auto;
    filter: drop-shadow(0 6px 14px rgba(10, 36, 68, 0.35));
    transition: transform 0.3s ease;
}

header .logo:hover img,
header .logo:focus-visible img {
    transform: translateY(-2px);
}

header .logo:focus-visible {
    outline: 2px solid var(--secondary);
    outline-offset: 4px;
}

header nav.site-nav {
    margin-left: auto;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    flex: 1 1 auto;
    flex-wrap: nowrap;
    gap: clamp(1.5rem, 4vw, 5rem);
}

header nav.site-nav .nav-links {
    display: flex;
    align-items: center;
    flex-wrap: nowrap;
    gap: clamp(1rem, 3.2vw, 2.75rem);
}

header nav.site-nav .nav-link {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.35rem 0;
    font-size: 0.95rem;
    font-weight: 600;
    letter-spacing: 0.03em;
    text-transform: uppercase;
    color: rgba(226, 238, 255, 0.88);
    text-decoration: none;
    transition: color 0.25s ease;
}

header nav.site-nav .nav-link::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -0.5rem;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, rgba(57, 170, 255, 1), rgba(57, 170, 255, 0));
    transform: scaleX(0);
    transform-origin: left;
    opacity: 0;
    transition: transform 0.25s ease, opacity 0.25s ease;
}

header nav.site-nav .nav-link:hover,
header nav.site-nav .nav-link:focus-visible {
    color: #ffffff;
}

header nav.site-nav .nav-link:hover::after,
header nav.site-nav .nav-link:focus-visible::after {
    transform: scaleX(1);
    opacity: 1;
}

header nav.site-nav .nav-link:focus-visible {
    outline: none;
}

header nav.site-nav .nav-link.nav-link--cta {
    padding: 0.5rem 1.4rem;
    border-radius: 999px;
    background: linear-gradient(135deg, rgba(57, 170, 255, 0.95), rgba(12, 95, 180, 0.95));
    color: #ffffff;
    box-shadow: 0 14px 32px rgba(4, 26, 53, 0.4);
    letter-spacing: 0.05em;
    text-transform: none;
}

header nav.site-nav .nav-link.nav-link--cta::after {
    display: none;
}

header nav.site-nav .nav-link.nav-link--cta:hover,
header nav.site-nav .nav-link.nav-link--cta:focus-visible {
    color: #ffffff;
    transform: translateY(-2px);
    box-shadow: 0 18px 36px rgba(4, 26, 53, 0.5);
}

header nav.site-nav .header-controls {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    margin-left: clamp(1rem, 3vw, 2.5rem);
}

.header-controls .ctrl {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 38px;
    padding: 0 1rem;
    border-radius: 999px;
    border: 1px solid rgba(206, 232, 255, 0.25);
    background: rgba(9, 29, 56, 0.5);
    color: rgba(226, 238, 255, 0.92);
    font-size: 0.85rem;
    font-weight: 600;
    letter-spacing: 0.03em;
    cursor: pointer;
    transition: background 0.25s ease, border-color 0.25s ease, color 0.25s ease, box-shadow 0.25s ease;
}

.header-controls .ctrl:hover,
.header-controls .ctrl:focus-visible {
    background: rgba(28, 83, 145, 0.7);
    border-color: rgba(124, 196, 255, 0.6);
    color: #ffffff;
    box-shadow: 0 12px 24px rgba(5, 22, 44, 0.35);
}

.header-controls select.ctrl {
    padding-right: 2.1rem;
    appearance: none;
    background-image: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0));
    background-repeat: no-repeat;
    background-position: center;
}

.header-controls select.ctrl option {
    color: #0a1a2e;
}

[data-theme='light'] .header-controls .ctrl {
    background: rgba(246, 252, 255, 0.9);
    color: #0a1a2e;
    border-color: rgba(9, 34, 68, 0.12);
}

[data-theme='light'] header nav.site-nav .nav-link {
    color: rgba(10, 26, 46, 0.78);
}

[data-theme='light'] header nav.site-nav .nav-link:hover,
[data-theme='light'] header nav.site-nav .nav-link:focus-visible {
    color: #0a1a2e;
}

.nav-toggle {
    display: none;
    background: transparent;
    border: 0;
    color: var(--text-light);
    padding: 0.35rem;
    cursor: pointer;
    transition: color 0.3s ease;
}
.nav-toggle:focus-visible {
    outline: 2px solid var(--secondary);
    outline-offset: 3px;
}
.nav-toggle-icon {
    position: relative;
    display: block;
    width: 1.6rem;
    height: 2px;
    background: currentColor;
    border-radius: 1px;
    transition: background 0.3s ease;
}
.nav-toggle-icon::before,
.nav-toggle-icon::after {
    content: '';
    position: absolute;
    left: 0;
    width: 100%;
    height: 2px;
    background: currentColor;
    border-radius: 1px;
    transition: transform 0.3s ease, top 0.3s ease, opacity 0.3s ease;
}
.nav-toggle-icon::before {
    top: -0.45rem;
}
.nav-toggle-icon::after {
    top: 0.45rem;
}

body.nav-open {
    overflow: hidden;
}
body.video-modal-open {
    overflow: hidden;
}
body.nav-open .nav-toggle-icon {
    background: transparent;
}
body.nav-open .nav-toggle-icon::before {
    top: 0;
    transform: rotate(45deg);
}
body.nav-open .nav-toggle-icon::after {
    top: 0;
    transform: rotate(-45deg);
}

/* Hero section styling */
.hero {
    position: relative;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: var(--text-light);
    overflow: hidden;
}

.hero-video-wrapper {
    position: absolute;
    inset: 0;
    overflow: hidden;
    z-index: -3;
}

.hero-video {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    pointer-events: none;
    transition: opacity 1.6s ease;
    filter: saturate(1.05);
}

.hero-video.is-active {
    opacity: 1;
    z-index: 1;
}

/* Dark gradient overlay to ensure contrast for text */
.hero .overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.8));
    z-index: -1;
}

.hero-content {
    max-width: 800px;
    padding: 1rem;
    /* The hero content container no longer fades in as a whole.  Instead,
       individual elements handle their own animations (letter‑by‑letter
       title, subtitle and tagline).  Remove the initial opacity and
       transform definitions. */
    opacity: 1;
    transform: none;
}

.hero-content h1 {
    font-size: 4rem;
    margin-bottom: 0.5rem;
    line-height: 1.05;
    color: var(--accent);
    letter-spacing: 0.05em;
    text-transform: uppercase;
}

.hero-title-secondary {
    font-size: 1.8rem;
    font-weight: 600;
    letter-spacing: 0.32em;
    text-transform: uppercase;
    color: var(--blue-200);
    margin-bottom: 1.2rem;
    display: inline-flex;
    gap: 0.12em;
}

.hero-content p:not(.hero-title-secondary) {
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
    color: var(--text-light);
}

/* Hero subtitle and tagline animations */
.hero-subtitle, .hero-tagline {
    opacity: 0;
    transition: opacity 0.6s ease;
}
.hero-subtitle {
    font-size: 1.4rem;
    color: var(--text-light);
    margin-bottom: 0.5rem;
}
.hero-tagline {
    font-size: 1.2rem;
    color: var(--secondary);
}
.hero-subtitle.show, .hero-tagline.show {
    opacity: 1;
}

/* Letter‑by‑letter title animation: spans inside the hero title will fade
   and slide into place sequentially.  Each span receives its own
   animation delay via JavaScript. */
.hero-title span,
.hero-title-secondary span {
    opacity: 0;
    display: inline-block;
    animation: letterFade 0.6s forwards;
}

/* Subtitle and tagline start hidden and slide into view after the title
   animation completes (JavaScript toggles the `.show` class). */
.hero-subtitle,
.hero-tagline {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    font-weight: 400;
    font-size: 1.6rem;
    margin-bottom: 0.5rem;
}

.hero-subtitle.show,
.hero-tagline.show {
    opacity: 1;
    transform: translateY(0);
}

/* Tagline smaller text style */
.hero-tagline {
    font-size: 1.2rem;
    font-style: italic;
    color: #d5e6ff;
}

@keyframes letterFade {
    0% {
        opacity: 0;
        transform: translateY(20px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

.hero-buttons {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
}

.hero-buttons .btn {
    margin: 0.4rem;
    padding: 0.6rem 1.2rem;
    border-radius: 25px;
    background: var(--accent);
    color: var(--text-light);
    text-decoration: none;
    font-weight: 600;
    transition: background 0.3s;
}

.hero-buttons .btn:hover {
    background: var(--blue-500);
}

.hero-buttons .btn.outline {
    background: transparent;
    border: 2px solid var(--accent);
    color: var(--accent);
}

.hero-buttons .btn.outline:hover {
    background: var(--accent);
    color: var(--text-light);
}

/* Scroll indicator at bottom of hero */
.scroll-down {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    color: var(--text-light);
    font-size: 2rem;
    animation: bounce 2s infinite;
}

/* Style for the arrow character inside the scroll indicator */
.scroll-down .arrow {
    font-size: 2rem;
    display: inline-block;
    line-height: 1;
}

/* Generic section styling */
.section {
    padding: 5rem 0 4rem;
    background: var(--bg);
}

.section:nth-of-type(even) {
    background: #ffffff;
}

.section h2 {
    text-align: center;
    color: var(--primary);
    margin-bottom: 2.5rem;
    font-size: 2rem;
}

/* Services cards grid */
.services .cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
}

.services-intro {
    max-width: 760px;
    margin: 0 auto 2.4rem;
    text-align: center;
    font-size: 1.05rem;
    color: #1f3f66;
    line-height: 1.6;
}

.card {
    background: #fff;
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s, box-shadow 0.3s;
    opacity: 0;
    transform: translateY(30px);
}

.card.show {
    opacity: 1;
    transform: translateY(0);
}

.card img {
    width: 100%;
    height: 160px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 1rem;
}

/* Icon wrapper is no longer used for service cards since we switched to illustrative images. */

/* Reason icons use emojis; style them similarly to the old icons */
.reason-icon {
    font-size: 2.5rem;
    margin-bottom: 0.8rem;
    color: var(--accent);
    display: flex;
    justify-content: center;
    align-items: center;
}

.card h3 {
    font-size: 1.3rem;
    margin-bottom: 0.6rem;
    color: var(--primary);
}

.card p {
    font-size: 0.9rem;
    color: #555;
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15);
}

/* Gallery grid styling */
.gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.2rem;
    opacity: 0;
    transform: translateY(30px);
}

.gallery-grid.show {
    opacity: 1;
    transform: translateY(0);
}

.gallery-grid img {
    width: 100%;
    height: 220px;
    object-fit: cover;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s;
}

.gallery-grid img:hover {
    transform: scale(1.05);
}

/* Road lighting showcase styling */
.lighting .section-lead {
    max-width: 820px;
    margin: 0 auto 2.5rem;
    color: #d0e5ff;
    text-align: center;
}
.lighting-grid {
    display: grid;
    gap: 1.6rem;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
}
.lighting-card {
    background: var(--card-bg);
    border-radius: 12px;
    padding: 1.4rem;
    box-shadow: 0 12px 28px rgba(3, 19, 40, 0.35);
    display: flex;
    flex-direction: column;
    gap: 1.1rem;
}

.lighting-preview {
    position: relative;
    border: none;
    padding: 0;
    width: 100%;
    aspect-ratio: 16 / 9;
    border-radius: 12px;
    overflow: hidden;
    cursor: pointer;
    background: linear-gradient(160deg, rgba(10, 28, 56, 0.75), rgba(18, 52, 90, 0.45));
    border: 1px solid rgba(255, 255, 255, 0.08);
    transition: transform 0.35s ease, box-shadow 0.35s ease, border-color 0.35s ease;
    isolation: isolate;
}

.lighting-preview::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(6, 18, 40, 0.25) 0%, rgba(6, 18, 40, 0.7) 100%);
    z-index: 1;
    transition: opacity 0.3s ease;
}

.lighting-preview-video {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    pointer-events: none;
    filter: saturate(1.08) contrast(1.05);
}

.lighting-preview-overlay {
    position: relative;
    z-index: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.6rem;
    color: #dcedff;
    text-transform: uppercase;
    letter-spacing: 0.16em;
    font-size: 0.75rem;
    font-weight: 600;
    pointer-events: none;
}

.lighting-preview-icon {
    position: relative;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: rgba(18, 52, 92, 0.88);
    display: grid;
    place-items: center;
    box-shadow: 0 14px 28px rgba(2, 14, 30, 0.55);
    transition: transform 0.3s ease, background 0.3s ease;
}

.lighting-preview-icon::before {
    content: '';
    border-style: solid;
    border-width: 11px 0 11px 18px;
    border-color: transparent transparent transparent rgba(232, 243, 255, 0.95);
    margin-left: 4px;
}

.lighting-preview-label {
    background: rgba(8, 24, 46, 0.65);
    padding: 0.35rem 0.8rem;
    border-radius: 999px;
    letter-spacing: 0.25em;
    font-size: 0.68rem;
}

.lighting-preview:hover {
    transform: translateY(-6px);
    box-shadow: 0 24px 38px rgba(4, 16, 32, 0.55);
    border-color: rgba(255, 255, 255, 0.28);
}

.lighting-preview:hover::after {
    opacity: 0.4;
}

.lighting-preview:hover .lighting-preview-icon {
    transform: scale(1.08);
    background: rgba(36, 92, 162, 0.95);
}
.lighting-card figcaption {
    font-size: 0.95rem;
    line-height: 1.5;
    color: rgba(226, 239, 255, 0.86);
}

/* References styling */
.references .reference-list {
    list-style: none;
    max-width: 800px;
    margin: 0 auto;
    padding: 0;
    opacity: 0;
    transform: translateY(30px);
}

.references .reference-list.show {
    opacity: 1;
    transform: translateY(0);
}

.reference-list li {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
    font-size: 1rem;
}

.reference-list li i {
    color: var(--accent);
    margin-right: 0.5rem;
}

/* Since we replaced reference icons with a check mark character, adjust spacing */
.reference-list li {
    padding-left: 1.3rem;
    position: relative;
}
.reference-list li::before {
    content: '✓';
    position: absolute;
    left: 0;
    top: 0;
    color: var(--accent);
    font-weight: bold;
}

/* FAQ section styling */
.faq .faq-list {
    max-width: 800px;
    margin: 0 auto;
}
.faq-item {
    margin-bottom: 1.5rem;
}
.faq-question {
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: var(--primary);
}
.faq-answer {
    font-size: 1rem;
    color: #444;
    line-height: 1.5;
}

/* Chatbox styling */
.ai-chat .chatbox {
    max-width: 600px;
    margin: 0 auto;
    background: #f0f4fa;
    border-radius: 12px;
    padding: 1rem;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
    gap: 1rem;
}
.chat-log {
    max-height: 300px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
}
.chat-message {
    padding: 0.6rem 0.8rem;
    border-radius: 8px;
    width: fit-content;
    max-width: 80%;
}
.chat-message.bot {
    background: #e2edff;
    color: var(--primary);
    align-self: flex-start;
}
.chat-message.user {
    background: var(--accent);
    color: var(--text-light);
    align-self: flex-end;
    text-align: right;
}
.chat-input-form {
    display: flex;
    gap: 0.2rem;
}
.chat-input-form input {
    flex-grow: 1;
    border: none;
    border-radius: 8px 0 0 8px;
    padding: 0.6rem;
    font-size: 1rem;
}
.chat-input-form button {
    background: var(--accent);
    color: var(--text-light);
    border: none;
    padding: 0 1rem;
    border-radius: 0 8px 8px 0;
    cursor: pointer;
    font-size: 1rem;
    transition: background 0.3s;
}
.chat-input-form button:hover {
    background: #0062cc;
}

/* Lightbox styling */
.lightbox {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease;
    z-index: 1500;
}
.lightbox.show {
    opacity: 1;
    visibility: visible;
}
.lightbox-img {
    max-width: 90%;
    max-height: 80%;
    border-radius: 8px;
}
.lightbox-close {
    position: absolute;
    top: 20px;
    right: 30px;
    font-size: 2rem;
    color: #fff;
    cursor: pointer;
    z-index: 1501;
}

/* Video overlay styling */
.video-overlay {
    position: fixed;
    inset: 0;
    display: grid;
    place-items: center;
    padding: clamp(1rem, 4vw, 2.5rem);
    background: rgba(4, 12, 28, 0.72);
    backdrop-filter: blur(8px);
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: opacity 0.3s ease;
    z-index: 1600;
}

.video-overlay.show {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
}

.video-overlay__backdrop {
    position: absolute;
    inset: 0;
    cursor: pointer;
}

.video-overlay__dialog {
    position: relative;
    width: min(960px, 92vw);
    background: rgba(6, 18, 42, 0.96);
    border-radius: 18px;
    box-shadow: 0 32px 60px rgba(0, 0, 0, 0.5);
    padding: clamp(1.2rem, 3vw, 2rem);
    display: flex;
    flex-direction: column;
    gap: 1rem;
    z-index: 1;
}

.video-overlay__player {
    width: 100%;
    border-radius: 12px;
    background: #020812;
    max-height: min(70vh, 600px);
}

.video-overlay__title {
    margin: 0;
    color: #e6f1ff;
    font-size: 1rem;
    letter-spacing: 0.02em;
}

.video-overlay__close {
    position: absolute;
    top: 0.6rem;
    right: 0.75rem;
    width: 2.25rem;
    height: 2.25rem;
    border-radius: 50%;
    border: none;
    background: rgba(14, 32, 64, 0.9);
    color: #f0f6ff;
    font-size: 1.6rem;
    cursor: pointer;
    display: grid;
    place-items: center;
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.35);
    transition: transform 0.25s ease, background 0.25s ease;
}

.video-overlay__close:hover {
    transform: scale(1.08);
    background: rgba(32, 82, 146, 0.95);
}

/* Why us section styling */
.reasons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    opacity: 0;
    transform: translateY(30px);
}

.reasons.show {
    opacity: 1;
    transform: translateY(0);
}

.reason {
    background: #fff;
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s;
}

.reason i {
    font-size: 2.5rem;
    color: var(--accent);
    margin-bottom: 0.8rem;
}

.reason h3 {
    font-size: 1.3rem;
    margin-bottom: 0.5rem;
    color: var(--primary);
}

.reason p {
    font-size: 0.9rem;
    color: #555;
}

.reason:hover {
    transform: translateY(-5px);
}

/* Contact form styling */
.contact-form {
    max-width: 600px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.contact-form .form-group input,
.contact-form .form-group textarea {
    width: 100%;
    padding: 0.8rem 1rem;
    border: 1px solid #ccc;
    border-radius: 8px;
    font-size: 1rem;
    font-family: inherit;
}

.contact-form .btn {
    align-self: flex-start;
    background: var(--accent);
    color: var(--text-light);
    padding: 0.8rem 1.5rem;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s;
}

.contact-form .btn:hover {
    background: #0062cc;
}

/* Footer styling */
footer {
    background: var(--primary);
    color: var(--text-light);
    padding: 1.5rem 0;
    text-align: center;
    font-size: 0.9rem;
}

/* -------------------------------------------------------------------------
   Overrides for consistent dark theme
   The following rules ensure that any legacy styles from earlier versions
   (which introduced alternating white sections and light cards) are
   overridden with the dark, modern aesthetic defined in the variables
   above.  These overrides are placed at the end of the stylesheet so
   they take precedence over previous definitions.  They enforce a
   unified background and colour palette across all sections and cards.  */

/* Ensure all sections use the dark background rather than alternating white */
.section:nth-of-type(even) {
    background: var(--bg);
}

/* Generic card styling for any remaining card components */
.card,
.reason {
    background: var(--card-bg);
    color: var(--text-light);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
}
.card h3,
.reason h3 {
    color: var(--accent);
}
.card p,
.reason p {
    color: var(--text-light);
}

/* FAQ colours should align with the dark theme */
.faq .faq-list .faq-question {
    color: var(--accent);
}
.faq .faq-list .faq-answer {
    color: var(--text-light);
}

/* Make sure reference lists use the dark text colour */
.references .reference-list li {
    color: var(--text-light);
}
.references .reference-list li::before {
    color: var(--accent);
}

/* Ensure any legacy chatbox styles from the old AI chat section match the dark theme */
.ai-chat .chatbox {
    background: var(--card-bg);
    color: var(--text-light);
}
.ai-chat .chatbox .chat-options li {
    background: var(--primary);
    color: var(--text-light);
}
.ai-chat .chatbox .chat-options li:hover {
    background: var(--accent);
}
.ai-chat .chatbox .chat-message.bot {
    background: var(--primary);
    color: var(--text-light);
}
.ai-chat .chatbox .chat-message.user {
    background: var(--accent);
    color: var(--text-light);
}

/* Contact form inputs should use dark backgrounds and light text, overriding any
   legacy white border styles */
.contact-form input,
.contact-form textarea {
    background: var(--card-bg);
    border: 1px solid var(--primary);
    color: var(--text-light);
}
.contact-form input::placeholder,
.contact-form textarea::placeholder {
    color: rgba(255, 255, 255, 0.6);
}

/* Keyframe animations */
@keyframes fadeInUp {
    0% {
        opacity: 0;
        transform: translateY(30px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeVideo {
    0% {
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        opacity: 0;
    }
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
        transform: translateX(-50%) translateY(0);
    }
    40% {
        transform: translateX(-50%) translateY(-10px);
    }
    60% {
        transform: translateX(-50%) translateY(-5px);
    }
}

/* Responsive typography adjustments */
@media (min-width: 768px) {
    .hero-content h1 {
        font-size: 3rem;
    }
    .hero-content p {
        font-size: 1.2rem;
    }
}

/* -----------------------------------------------------------------------
 * Support (kontakt.html) page styles
 *
 * Defines the look of the dedicated support page with multi‑level FAQ.
 */

.support-hero {
    background: var(--bg);
    padding: 7rem 0 4.5rem;
}
.support-hero .hero-grid {
    display: grid;
    gap: 2.4rem;
    align-items: center;
}
@media (min-width: 960px) {
    .support-hero .hero-grid {
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
    }
}
.support-hero .eyebrow {
    font-size: 0.85rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--secondary);
    margin-bottom: 0.6rem;
    display: inline-block;
}
.support-hero h1 {
    font-size: 2.8rem;
    color: var(--secondary);
    margin-bottom: 1rem;
    text-align: left;
}
@media (min-width: 640px) {
    .support-hero h1 {
        font-size: 3.2rem;
    }
}
.support-hero .hero-copy p {
    font-size: 1.1rem;
    color: #bcd5f0;
    margin-bottom: 1.2rem;
    max-width: 680px;
}
.support-hero .hero-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.9rem;
    margin-bottom: 1.4rem;
}
.support-hero .hero-highlights {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: 0.7rem;
    color: #deebff;
    font-size: 1rem;
}
.support-hero .hero-highlights li {
    position: relative;
    padding-left: 1.8rem;
}
.support-hero .hero-highlights li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.55rem;
    width: 0.6rem;
    height: 0.6rem;
    border-radius: 50%;
    background: var(--secondary);
}
.support-hero .hero-figure {
    margin: 0;
    background: rgba(9, 30, 58, 0.6);
    padding: 1rem;
    border-radius: 14px;
    box-shadow: 0 20px 45px rgba(0, 0, 0, 0.35);
}
.support-hero .hero-figure img {
    width: 100%;
    display: block;
    border-radius: 10px;
}
.support-hero .hero-figure figcaption {
    margin-top: 0.6rem;
    color: #96bbdf;
    font-size: 0.9rem;
    line-height: 1.4;
}

.company-overview {
    background: var(--light-bg);
}
.company-overview .overview-grid {
    display: grid;
    gap: 2.5rem;
    align-items: start;
}
@media (min-width: 960px) {
    .company-overview .overview-grid {
        grid-template-columns: minmax(0, 1.15fr) minmax(0, 0.85fr);
    }
}
.company-overview p {
    color: var(--text-light);
    margin-bottom: 1rem;
}
.company-overview .overview-list {
    margin-top: 1.2rem;
    list-style: none;
    padding: 0;
    display: grid;
    gap: 0.6rem;
}
.company-overview .overview-list li {
    position: relative;
    padding-left: 1.6rem;
    color: var(--text-light);
}
.company-overview .overview-list li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.55rem;
    width: 0.6rem;
    height: 0.6rem;
    border-radius: 50%;
    background: var(--secondary);
}
.company-overview .overview-panel {
    display: grid;
    gap: 1.2rem;
}
.company-overview .stat-card {
    background: var(--card-bg);
    padding: 1.1rem 1.4rem;
    border-radius: 10px;
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
}
.company-overview .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: var(--secondary);
    display: block;
}
.company-overview .stat-label {
    font-size: 0.95rem;
    color: #c7daf2;
}
.company-overview .overview-figure {
    margin: 0;
    background: rgba(9, 30, 58, 0.55);
    padding: 1rem;
    border-radius: 12px;
}
.company-overview .overview-figure img {
    width: 100%;
    border-radius: 8px;
    display: block;
}
.company-overview .overview-figure figcaption {
    margin-top: 0.5rem;
    font-size: 0.9rem;
    color: #b8d3f3;
    line-height: 1.4;
}

.project-gallery {
    background: var(--bg);
}
.project-gallery .section-lead {
    max-width: 820px;
    margin: 0 auto 2.5rem auto;
    color: #c6dffb;
    text-align: center;
    line-height: 1.6;
}
.project-gallery .gallery-groups {
    display: grid;
    gap: 2.5rem;
}
.project-gallery .gallery-group {
    background: var(--card-bg);
    padding: 1.8rem;
    border-radius: 14px;
    box-shadow: 0 18px 35px rgba(0, 0, 0, 0.35);
}
.project-gallery .gallery-group header h3 {
    margin-bottom: 0.5rem;
    color: var(--secondary);
}
.project-gallery .gallery-group header p {
    color: #d0e5ff;
    margin-bottom: 1.5rem;
}
.project-gallery .gallery-grid {
    display: grid;
    gap: 1.2rem;
}
@media (min-width: 680px) {
    .project-gallery .gallery-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}
@media (min-width: 1100px) {
    .project-gallery .gallery-grid {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }
}
.project-gallery figure {
    margin: 0;
    background: rgba(7, 22, 45, 0.65);
    border-radius: 10px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    min-height: 100%;
}
.project-gallery figure img {
    width: 100%;
    display: block;
    object-fit: cover;
    max-height: 220px;
}
.project-gallery figure figcaption {
    padding: 0.9rem;
    font-size: 0.9rem;
    color: #c8dbf5;
    line-height: 1.4;
    flex-grow: 1;
}

.support-faq {
    background: var(--light-bg);
}
.support-faq .section-lead {
    max-width: 760px;
    margin: 0 auto;
    color: #d3e5ff;
    text-align: center;
}
.support-faq .support-grid {
    display: grid;
    gap: 2rem;
    margin-top: 2.5rem;
}
@media (min-width: 900px) {
    .support-faq .support-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}
.support-category {
    background: var(--card-bg);
    border-radius: 14px;
    padding: 1.5rem;
    box-shadow: 0 15px 32px rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
    gap: 1.2rem;
}
.support-category .category-header {
    display: grid;
    gap: 1rem;
    align-items: center;
}
.support-category .category-header figure {
    margin: 0;
    border-radius: 10px;
    overflow: hidden;
    max-height: 180px;
}
.support-category .category-header figure img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}
.support-category .header-copy h3 {
    font-size: 1.4rem;
    color: var(--secondary);
    margin-bottom: 0.4rem;
}
.support-category .header-copy p {
    color: #d0e4ff;
    font-size: 0.95rem;
    line-height: 1.5;
}
.support-category .category-toggle {
    justify-self: start;
    padding: 0.55rem 1.4rem;
    border-radius: 999px;
    border: 1px solid rgba(124, 196, 255, 0.4);
    background: transparent;
    color: var(--text-light);
    font-weight: 600;
    letter-spacing: 0.02em;
    cursor: pointer;
    transition: background 0.3s, transform 0.2s;
}
.support-category .category-toggle:hover,
.support-category.open .category-toggle {
    background: rgba(57, 170, 255, 0.12);
}
.support-category .category-body {
    display: grid;
    gap: 1.1rem;
}
.support-category .category-body[data-state="collapsed"] {
    display: none;
}
.support-category .category-intro {
    margin: 0;
    color: #c8dcff;
    font-size: 0.95rem;
    line-height: 1.5;
}
.support-category .subquestions {
    display: grid;
    gap: 0.9rem;
}
.support-category .subquestion {
    border: 1px solid rgba(91, 145, 214, 0.4);
    border-radius: 10px;
    overflow: hidden;
    background: rgba(3, 16, 34, 0.5);
}
.support-category .subquestion-toggle {
    width: 100%;
    text-align: left;
    padding: 0.9rem 1.1rem;
    background: transparent;
    border: none;
    color: var(--text-light);
    font-weight: 600;
    position: relative;
    cursor: pointer;
}
.support-category .subquestion-toggle::after {
    content: '+';
    position: absolute;
    right: 1rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.4rem;
    color: var(--secondary);
}
.support-category .subquestion.open .subquestion-toggle::after {
    content: '-';
}
.support-category .answer {
    padding: 0 1.1rem 1.1rem 1.1rem;
    color: #cfe2ff;
    line-height: 1.6;
}
.support-category .answer[data-state="collapsed"] {
    display: none;
}
.support-contact {
    background: var(--bg);
    padding-top: 4rem;
    padding-bottom: 4rem;
}
.support-contact .contact-grid {
    display: grid;
    gap: 2.5rem;
}
@media (min-width: 960px) {
    .support-contact .contact-grid {
        grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
        gap: 3rem;
    }
}
.support-contact .contact-card {
    background: var(--card-bg);
    border-radius: 14px;
    padding: 2rem;
    box-shadow: 0 18px 36px rgba(0, 0, 0, 0.35);
    color: var(--text-light);
}
.support-contact .contact-card .section-lead {
    color: #d5e7ff;
    margin-bottom: 1.5rem;
}
.support-contact .contact-list {
    list-style: none;
    padding: 0;
    margin: 0 0 1.4rem 0;
    display: grid;
    gap: 0.8rem;
}
.support-contact .contact-list li {
    display: flex;
    gap: 0.6rem;
    flex-wrap: wrap;
}
.support-contact .contact-list span:first-child {
    min-width: 140px;
    font-weight: 600;
    color: var(--secondary);
}
.support-contact .contact-list a {
    color: #f0f7ff;
    text-decoration: none;
}
.support-contact .contact-list a:hover {
    text-decoration: underline;
}
.support-contact .contact-highlights {
    background: rgba(8, 26, 50, 0.6);
    border-radius: 10px;
    padding: 1.1rem 1.2rem;
    margin-bottom: 1.5rem;
    display: grid;
    gap: 0.8rem;
    color: #d7e9ff;
}
.support-contact .contact-map {
    background: rgba(8, 26, 50, 0.6);
    border-radius: 10px;
    padding: 0.9rem;
    display: grid;
    gap: 0.6rem;
}
.support-contact .contact-map iframe {
    width: 100%;
    min-height: 220px;
    border: none;
    border-radius: 8px;
}
.support-contact .map-link {
    color: var(--secondary);
    text-decoration: none;
    font-size: 0.9rem;
}
.support-contact .map-link:hover {
    text-decoration: underline;
}
.support-contact .contact-form {
    background: var(--card-bg);
    border-radius: 14px;
    padding: 2rem;
    box-shadow: 0 18px 36px rgba(0, 0, 0, 0.35);
}
.support-contact .contact-form h3 {
    color: var(--secondary);
    margin-bottom: 0.6rem;
}
.support-contact .contact-form .form-intro {
    color: #d7e9ff;
    margin-bottom: 1.5rem;
}
.support-contact .contact-form .form-field {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
    margin-bottom: 1rem;
}
.support-contact .contact-form label {
    font-weight: 600;
    color: var(--text-light);
}
.support-contact .contact-form input,
.support-contact .contact-form select,
.support-contact .contact-form textarea {
    width: 100%;
    border-radius: 8px;
    border: 1px solid rgba(124, 196, 255, 0.35);
    background: rgba(8, 24, 44, 0.65);
    color: var(--text-light);
    padding: 0.75rem 0.9rem;
    font-size: 1rem;
    transition: border-color 0.2s, box-shadow 0.2s;
}
.support-contact .contact-form input:focus,
.support-contact .contact-form select:focus,
.support-contact .contact-form textarea:focus {
    outline: none;
    border-color: var(--secondary);
    box-shadow: 0 0 0 2px rgba(57, 170, 255, 0.2);
}
.support-contact .contact-form textarea {
    min-height: 140px;
    resize: vertical;
}
.support-contact .form-consent {
    display: flex;
    align-items: flex-start;
    gap: 0.6rem;
    margin: 1.2rem 0;
}
.support-contact .form-consent input {
    width: auto;
    margin-top: 0.2rem;
}
.support-contact .form-consent label {
    font-size: 0.9rem;
    font-weight: 500;
    color: #d0e4ff;
}
.support-contact .form-actions {
    display: grid;
    gap: 0.6rem;
}
.support-contact .form-actions .btn {
    justify-self: start;
}
.support-contact .form-note {
    font-size: 0.85rem;
    color: #bcd5f0;
}
@media (max-width: 640px) {
    .support-contact .contact-card,
    .support-contact .contact-form {
        padding: 1.5rem;
    }
}

/*
 * -----------------------------------------------------------------------
 * Final patch overrides and enhancements
 *
 * - Ensures alternating sections use the dark background, overriding
 *   older rules that set white backgrounds on even sections.
 * - Enlarges and recolours section headings for greater impact.
 * - Removes emoji icons from lists and replaces them with simple
 *   coloured bullets via CSS pseudo‑elements.
 * - Adjusts the hero title and subtitle sizes for better visibility.
 * - Defines a new cinematic preloader animation: the logo appears
 *   blurred and fades into focus, followed by the company name and a
 *   subtle lightning flash.  These elements are controlled via CSS
 *   animations rather than inline JavaScript.
 */

.section:nth-of-type(even) {
    background: var(--bg);
}

.section h2 {
    font-size: 2.6rem;
    font-weight: 700;
    color: var(--secondary);
    margin-bottom: 2rem;
    text-align: center;
}

.section h3 {
    font-size: 1.6rem;
    color: var(--secondary);
    margin-bottom: 0.6rem;
}

.focus-col li {
    position: relative;
    padding-left: 1.4rem;
}
.focus-col li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.55rem;
    width: 0.6rem;
    height: 0.6rem;
    background: var(--secondary);
    border-radius: 50%;
}
.focus-col li .icon {
    display: none;
}

.philosophy-card {
    text-align: left;
    background: var(--card-bg);
}
.philosophy-card h3 {
    font-size: 1.6rem;
    color: var(--secondary);
    margin-bottom: 0.6rem;
}
.philosophy-card p {
    font-size: 1rem;
    line-height: 1.6;
}

.hero-content h1 {
    font-size: 4.5rem;
    letter-spacing: 0.05em;
}
.hero-content h2 {
    font-size: 2rem;
}

/* Responsive refinements */
@media (max-width: 960px) {
    .nav-toggle {
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }
    header .container {
        gap: 0.75rem;
    }
    header nav.site-nav {
        position: fixed;
        top: 0;
        right: 0;
        height: 100vh;
        width: min(320px, 80vw);
        padding: 5rem 2rem 2.5rem;
        background: rgba(7, 19, 36, 0.96);
        box-shadow: -18px 0 42px rgba(0, 0, 0, 0.55);
        flex-direction: column;
        align-items: stretch;
        gap: 1.2rem;
        transform: translateX(100%);
        opacity: 0;
        pointer-events: none;
        transition: transform 0.35s ease, opacity 0.35s ease;
        z-index: 120;
    }
    header nav.site-nav.open {
        transform: translateX(0);
        opacity: 1;
        pointer-events: auto;
    }
    header nav.site-nav .nav-links {
        flex-direction: column;
        align-items: stretch;
        width: 100%;
        gap: 1.1rem;
    }
    header nav.site-nav .nav-link {
        justify-content: flex-start;
        width: 100%;
        font-size: 1.05rem;
        letter-spacing: 0.02em;
        text-transform: none;
        padding: 0.75rem 0;
    }
    header nav.site-nav .nav-link::after {
        bottom: 0;
        transform-origin: center;
    }
    header nav.site-nav .nav-link.nav-link--cta {
        justify-content: center;
        margin-top: 0.5rem;
    }
    header .logo img {
        height: 48px;
    }
    .header-controls {
        display: flex;
        flex-direction: column;
        align-items: stretch;
        width: 100%;
        margin-left: 0;
        margin-top: 1.2rem;
        gap: 0.75rem;
    }
    .header-controls .ctrl {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .section {
        padding: 2.5rem 0;
    }
    .hero {
        height: auto;
        min-height: 100vh;
        padding-top: 6.5rem;
        padding-bottom: 3rem;
    }
    .hero-content {
        padding: 0 1.4rem;
    }
    .hero-content h1 {
        font-size: 2.8rem;
    }
    .hero-content h2 {
        font-size: 1.45rem;
    }
    .hero-title-secondary {
        font-size: 1.2rem;
        letter-spacing: 0.26em;
        margin-bottom: 0.9rem;
    }
    .hero-tagline {
        font-size: 1rem;
    }
    .hero-buttons {
        flex-direction: column;
        align-items: stretch;
    }
    .hero-buttons .btn {
        width: 100%;
    }
    .focus-columns {
        flex-direction: column;
    }
    .focus-col {
        flex: 1 1 100%;
    }
    .philosophy-cards {
        flex-direction: column;
    }
    .gallery-grid {
        grid-template-columns: 1fr;
    }
    .gallery-grid img {
        height: 200px;
    }
    .lighting-grid {
        grid-template-columns: 1fr;
    }
    .trafo-grid {
        grid-template-columns: 1fr;
    }
    .section h2 {
        font-size: 2.1rem;
    }
}

@media (max-width: 520px) {
    header nav.site-nav {
        width: min(288px, 86vw);
        padding: 4.5rem 1.6rem 2rem;
    }
    .hero-content h1 {
        font-size: 2.4rem;
    }
    .hero-content h2 {
        font-size: 1.2rem;
    }
    .hero-title-secondary {
        font-size: 1rem;
        letter-spacing: 0.22em;
    }
    .hero-buttons .btn {
        font-size: 1rem;
    }
    #chat-widget {
        right: 12px;
        bottom: 16px;
    }
    #chatbox {
        right: 12px;
        width: calc(100vw - 24px);
        bottom: 74px;
    }
    #chat-toggle {
        width: 52px;
        height: 52px;
        font-size: 1.5rem;
    }
}

/* Preloader custom animations */
#preloader {
    animation: none;
}
#preloader .preloader-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}
.preloader-logo {
    width: 180px;
    height: 180px;
    margin-bottom: 0.6rem;
    opacity: 0;
    filter: blur(20px);
    animation: logoBlur 2.5s forwards;
}
.preloader-text {
    font-size: 2rem;
    font-weight: 700;
    letter-spacing: 0.16em;
    color: var(--secondary);
    opacity: 0;
    animation: titleFade 2s forwards 1.5s;
    text-transform: uppercase;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.6rem;
    text-align: center;
}

.preloader-subtitle {
    font-size: 0.95rem;
    font-weight: 500;
    letter-spacing: 0.32em;
    color: rgba(226, 239, 255, 0.85);
    text-transform: uppercase;
}
@keyframes logoBlur {
    0% { opacity: 0; filter: blur(28px) drop-shadow(0 0 10px rgba(84,180,255,0.35)) drop-shadow(0 0 24px rgba(84,180,255,0.25)); transform: scale(0.8); }
    50% { opacity: 1; filter: blur(12px) drop-shadow(0 0 18px rgba(84,180,255,0.6)) drop-shadow(0 0 36px rgba(154,215,255,0.45)); transform: scale(1); }
    100% { opacity: 1; filter: blur(0) drop-shadow(0 0 8px rgba(84,180,255,0.35)) drop-shadow(0 0 20px rgba(154,215,255,0.25)); transform: scale(1); }
}

@keyframes titleFade {
    0% { opacity: 0; transform: translateY(20px); }
    100% { opacity: 1; transform: translateY(0); }
}
